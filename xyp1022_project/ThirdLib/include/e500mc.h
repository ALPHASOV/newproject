/*------- general description ------- 
  All rights reserved by C*Core Corporation
  date:   2012.12.21
  author: swang
 
  This header defines SPRs which are only related to PPC470 core.
------- ------- ------- ------- */
//------- MSR ------- {{{
#define MSR_WE_MASK 	0x00040000
#define MSR_CE_MASK 	0x00020000
#define MSR_EE_MASK 	0x00008000
#define MSR_PR_MASK 	0x00004000
#define MSR_FP_MASK 	0x00002000
#define MSR_ME_MASK 	0x00001000
#define MSR_FE0_MASK	0x00000800
#define MSR_DWE_MASK	0x00000400
#define MSR_DE_MASK	0x00000200
#define MSR_FE1_MASK	0x00000100
#define MSR_IS_MASK 	0x00000020
#define MSR_DS_MASK 	0x00000010
#define MSR_PMM_MASK 	0x00000004
#define MSR_SSS_MASK 	0x0002B000

#define HID0_EMCP_MASK 				0x80000000
#define  HID0_EN_MAS7_UPDATE_MASK 	0x00000080
#define  HID0_CIGLSO_MASK			0x00000010
//------- ------- ------- }}}

//------- TLB ------- {{{
#define TLB_WAY0_MASK	0x80000000
#define TLB_WAY1_MASK	0xA0000000
#define TLB_WAY2_MASK	0xC0000000
#define TLB_WAY3_MASK	0xE0000000
#define TLB_BOLT0_MASK	0x08000000
#define TLB_BOLT1_MASK	0x09000000
#define TLB_BOLT2_MASK	0x0A000000
#define TLB_BOLT3_MASK	0x0B000000
#define TLB_BOLT4_MASK	0x0C000000
#define TLB_BOLT5_MASK	0x0D000000

#define TLB0_EPN_MASK	0xFFFFF000
#define TLB0_V_MASK	0x00000800
#define TLB0_TS_MASK	0x00000400
#define TLB0_SIZE_MASK	0x000003F0
#define TLB0_SIZE_4K	0x00000000 
#define TLB0_SIZE_16K	0x00000010
#define TLB0_SIZE_64K	0x00000030
#define TLB0_SIZE_1M	0x00000070
#define TLB0_SIZE_16M	0x000000F0
#define TLB0_SIZE_256M	0x000001F0
#define TLB0_SIZE_1G	0x000003F0

#define TLB1_RPN_MASK	0xFFFFF000
#define TLB1_ERPN_MASK 	0x000003FF

#define TLB2_IL1I_MASK 	0x00020000
#define TLB2_IL1D_MASK 	0x00010000
#define TLB2_U0_MASK	0x00008000
#define TLB2_U1_MASK	0x00004000
#define TLB2_U2_MASK	0x00002000
#define TLB2_U3_MASK	0x00001000
#define TLB2_W_MASK 	0x00000800
#define TLB2_I_MASK 	0x00000400
#define TLB2_M_MASK 	0x00000200
#define TLB2_G_MASK	0x00000100
#define TLB2_E_MASK	0x00000080
#define TLB2_E_BIG	0x00000000
#define TLB2_E_LIT 	0x00000080

#define TLB2_U_MASK 	0x00000038
#define TLB2_U_X 	0x00000020
#define TLB2_U_W	0x00000010
#define TLB2_U_R 	0x00000008
#define TLB2_U_WX 	0x00000030
#define TLB2_U_RX 	0x00000028
#define TLB2_U_RW 	0x00000018
#define TLB2_U_RWX 	0x00000038
#define TLB2_S_MASK 	0x00000007
#define TLB2_S_X	0x00000004
#define TLB2_S_W	0x00000002
#define TLB2_S_R	0x00000001
#define TLB2_S_WX	0x00000006
#define TLB2_S_RX	0x00000005
#define TLB2_S_RW	0x00000003
#define TLB2_S_RWX	0x00000007
//------- ------- ------- }}}

#define LR	0x008
#define CTR	0x009
//------- XER ------- {{{
#define XER	0x1
#define XER_SO_MASK	0x80000000
#define XER_OV_MASK	0x40000000
#define XER_CA_MASK	0x20000000
#define XER_TBC_MASK	0x0000007f
//------- ------- ------- }}}

//------- ------- Interrupt SPRs ------- ------- {{{
#define SRR0 	0x01A
#define SRR1 	0x01B
#define CSRR0 	0x03A
#define CSRR1 	0x03B
#define MCSRR0 	0x23A
#define MCSRR1 	0x23B

#define IVPR 	0x03F
#define IVPR_MASK	0xFFFF0000

//------- IVOR ------- {{{
#define IVOR0	0x190	
#define IVOR1	0x191	
#define IVOR2	0x192	
#define IVOR3	0x193	
#define IVOR4	0x194	
#define IVOR5	0x195	
#define IVOR6	0x196	
#define IVOR7	0x197	
#define IVOR8	0x198	
#define IVOR9	0x199	
#define IVOR10	0x19A	
#define IVOR11	0x19B	
#define IVOR12	0x19C	
#define IVOR13	0x19D	
#define IVOR14	0x19E	
#define IVOR15	0x19F	
#define IVOR_MASK	0x0000FFF0
//------- ------- ------- }}}

//------- ESR ------- {{{
#define ESR	0x3E
#define ESR_ISMC_MASK	0x80000000
#define ESR_SS_MASK	0x40000000
#define ESR_POT1_MASK	0x20000000
#define ESR_POT2_MASK	0x10000000
#define ESR_PIL_MASK	0x08000000
#define ESR_PPR_MASK	0x04000000
#define ESR_PTR_MASK	0x02000000
#define ESR_FP_MASK	0x01000000
#define ESR_ST_MASK	0x00800000
#define ESR_DLK_MASK	0x00300000
#define ESR_AP_MASK	0x00080000
#define ESR_PUO_MAS	0x00040000
#define ESR_BO_MASK	0x00020000
#define ESR_PIE_MASK	0x00010000
#define ESR_PCRE_MASK	0x00000010
#define ESR_PCMP_MASK	0x00000008
#define ESR_PCRF_MASK	0x00000007
//------- ------- ------- }}}

//------- MCSR ------- {{{
#define MCSR	0x23C
#define MCSR_C	0x33C
#define MCSR_MSC_MASK	0x80000000
#define MCSR_MSC_NMI_MASK	0x80100000
#define MCSR_TLB_MASK	0x08000000
#define MCSR_IC_MASK	0x04000000
#define MCSR_DC_MASK	0x02000000
#define MCSR_GPR_MASK	0x01000000
#define MCSR_FPR_MASK	0x00800000
#define MCSR_IMP_MASK	0x00400000
#define MCSR_L2_MASK	0x00200000
#define MCSR_DCR_MASK	0x00100000
//------- ------- ------- }}}

#define DEAR 	0x03D
//------- ------- ------- -------  ------- }}}

//------- ------- Timer SPRs ------- ------- {{{
//------- TCR ------- {{{
#define TCR	0x154
#define TCR_WP_MASK	0xC0000000
#define TCR_WP_2M	0x00000000
#define TCR_WP_32M	0x40000000
#define TCR_WP_512M	0x80000000
#define TCR_WP_8G	0xC0000000
#define TCR_WRC_MASK	0x00000000
#define TCR_WRC_MPIC	0x10000000
#define TCR_WRC_SYSTEM	0x20000000
#define TCR_WRC_CORE	0x30000000
#define TCR_WIE_MASK	0x08000000
#define TCR_DIE_MASK	0x04000000
#define TCR_FP_MASK 	0x03000000
#define TCR_FP_8K	0x00000000
#define TCR_FP_128	0x01000000
#define TCR_FP_2M	0x02000000
#define TCR_FP_32M	0x03000000
#define TCR_FIE_MASK	0x00800000
#define TCR_ARE_MASK	0x00400000

#define TCR_FIE_DISEN	0x00000000
#define TCR_DIE_DISEN	0x00000000
#define TCR_WIE_DISEN	0x00000000

//------- ------- ------- }}}

//fit byte
#define TCR_FP_TBL_BYTE0	0x0001C000
#define TCR_FP_TBL_BYTE1	0x00018000
#define TCR_FP_TBL_BYTE2	0x00014000
#define TCR_FP_TBL_BYTE3	0x00010000
#define TCR_FP_TBU_BYTE0	0x0000C000
#define TCR_FP_TBU_BYTE1	0x00008000
#define TCR_FP_TBU_BYTE2	0x00004000
#define TCR_FP_TBU_BYTE3	0x00000000
//fit bit
#define TCR_FP_BIT0			0x03002000
#define TCR_FP_BIT1			0x02002000
#define TCR_FP_BIT2			0x01002000
#define TCR_FP_BIT3			0x00002000
#define TCR_FP_BIT4 		0x03000000
#define TCR_FP_BIT5			0x02000000
#define TCR_FP_BIT6			0x01000000
#define TCR_FP_BIT7			0x00000000

//wdog byte
#define TCR_WDOG_BYTE0		0x001C0000
#define TCR_WDOG_BYTE1		0x00180000
#define TCR_WDOG_BYTE2		0x00140000
#define TCR_WDOG_BYTE3		0x00100000
#define TCR_WDOG_BYTE4		0x000C0000
#define TCR_WDOG_BYTE5		0x00080000
#define TCR_WDOG_BYTE6		0x00040000
#define TCR_WDOG_BYTE7		0x00000000
//wdog bit
#define TCR_WDOG_BIT0		0xC0020000
#define TCR_WDOG_BIT1		0x80020000
#define TCR_WDOG_BIT2		0x40020000
#define TCR_WDOG_BIT3		0x00020000
#define TCR_WDOG_BIT4 		0xC0000000
#define TCR_WDOG_BIT5		0x80000000
#define TCR_WDOG_BIT6		0x40000000
#define TCR_WDOG_BIT7		0x00000000



//------- TSR ------- {{{
#define TSR	0x150
#define TSR_ENW_MASK	0x80000000
#define TSR_WIS_MASK 	0x40000000
#define TSR_WRS_MASK	0x00000000
#define TSR_WRS_MPIC	0x10000000
#define TSR_WRS_SYSTEM	0x20000000
#define TSR_WRS_CORE	0x30000000
#define TSR_DIS_MASK	0x08000000
#define TSR_FIS_MASK	0x04000000



//------- ------- ------- }}}
#define TBL		0x10C
#define TBU 	0x10D
#define TBL_W 	0x11C
#define TBU_W 	0x11D

#define TBU_R 269
#define TBL_R 268
#define ATBL  526
#define ATBU  527

#define WRITETBL(cycle)  MTSPR(TBL_W,cycle)
#define WRITETBU(cycle)  MTSPR(TBU_W,cycle)
#define READTBL(cycle)   MFSPR(cycle,TBL);
#define READTBU(cycle)   MFSPR(cycle,TBU);

#define DEC	0x016
#define DECAR	0x036
//------- ------- ------- ------- ------- }}}

//------- ------- Debug SPRs ------- ------- {{{
//------- DBCR0 ------- {{{
#define DBCR0	0x134
#define DBCR0_EDM_MASK	0x80000000
#define DBCR0_IDM_MASK	0x40000000
#define DBCR0_RST_MASK	0x30000000
#define DBCR0_RST_CORE	0x10000000
#define DBCR0_RST_CHIP	0x20000000
#define DBCR0_RST_SYSTEM	0x30000000
#define DBCR0_ICMP_MASK	0x08000000
#define DBCR0_BRT_MASK	0x04000000
#define DBCR0_IRPT_MASK 0x02000000
#define DBCR0_TRAP_MASK 0x01000000
#define DBCR0_IAC1_MASK 0x00800000
#define DBCR0_IAC2_MASK 0x00400000
#define DBCR0_IAC3_MASK 0x00200000
#define DBCR0_IAC4_MASK 0x00100000
#define DBCR0_DAC1R_MASK	0x00080000
#define DBCR0_DAC1W_MASK	0x00040000
#define DBCR0_DAC2R_MASK	0x00020000
#define DBCR0_DAC2W_MASK	0x00010000
#define DBCR0_RET_MASK	0x00008000
#define DBCR0_FT_MASK	0x00000001
//------- ------- ------- }}}

//------- DBCR1 ------- {{{
#define DBCR1	0x135
#define DBCR1_IAC1US_MASK	0xC0000000
#define DBCR1_IAC1US_BOTH	0x00000000
#define DBCR1_IAC1US_SUPER	0x80000000
#define DBCR1_IAC1US_USER	0xC0000000
#define DBCR1_IAC1ER_MASK	0x30000000
#define DBCR1_IAC1ER_BOTH	0x00000000
#define DBCR1_IAC1ER_S0	0x20000000
#define DBCR1_IAC1ER_S1	0x30000000
#define DBCR1_IAC2US_MASK	0x0C000000
#define DBCR1_IAC2US_BOTH	0x00000000
#define DBCR1_IAC2US_SUPER	0x08000000
#define DBCR1_IAC2US_USER	0x0C000000
#define DBCR1_IAC2ER_MASK	0x03000000
#define DBCR1_IAC2ER_BOTH	0x00000000
#define DBCR1_IAC2ER_S0 0x02000000
#define DBCR1_IAC2ER_S1 0x03000000
#define DBCR1_IAC12M_MASK	0x00C00000
#define DBCR1_IAC12M_EXACT	0x00000000
#define DBCR1_IAC12M_INC	0x00800000
#define DBCR1_IAC12M_EXC	0x00C00000
#define DBCR1_IAC12AT_MASK	0x00010000
#define DBCR1_IAC3US_MASK	0x0000C000
#define DBCR1_IAC3US_BOTH	0x00000000
#define DBCR1_IAC3US_SUPER	0x00008000
#define DBCR1_IAC3US_USER	0x0000C000
#define DBCR1_IAC3ER_MASK	0x00003000
#define DBCR1_IAC3ER_BOTH	0x00000000
#define DBCR1_IAC3ER_S0 0x00002000
#define DBCR1_IAC3ER_S1 0x00003000
#define DBCR1_IAC4US_MASK	0x00000C00
#define DBCR1_IAC4US_BOTH	0x00000000
#define DBCR1_IAC4US_SUPER	0x00000800
#define DBCR1_IAC4US_USER	0x00000C00
#define DBCR1_IAC4ER_MASK	0x00000300
#define DBCR1_IAC4ER_BOTH	0x00000000
#define DBCR1_IAC4ER_S0	0x00000200
#define DBCR1_IAC4ER_S1 0x00000300
#define DBCR1_IAC34M_MASK	0x000000C0
#define DBCR1_IAC34M_EXACT	0x00000000
#define DBCR1_IAC34M_INC	0x00000080
#define DBCR1_IAC34M_EXC	0x000000C0
#define DBCR1_IAC34AT_MASK	0x00000001
//------- ------- ------- }}}

//------- DBCR2 ------- {{{
#define DBCR2	0x136
#define DBCR2_DAC1US_MASK	0xC0000000
#define DBCR2_DAC1US_BOTH 	0x00000000
#define DBCR2_DAC1US_SUPER 	0x80000000
#define DBCR2_DAC1US_USER 	0xC0000000
#define DBCR2_DAC1ER_MASK 	0x30000000
#define DBCR2_DAC1ER_EFF 	0x00000000
#define DBCR2_DAC1ER_S0	0x20000000
#define DBCR2_DAC1ER_S1 0x30000000
#define DBCR2_DAC2US_MASK	0x0C000000
#define DBCR2_DAC2US_BOTH 	0x00000000
#define DBCR2_DAC2US_SUPER 	0x08000000
#define DBCR2_DAC2US_USER 	0x0C000000
#define DBCR2_DAC2ER_MASK 	0x03000000
#define DBCR2_DAC2ER_EFF 	0x00000000
#define DBCR2_DAC2ER_S0 0x02000000
#define DBCR2_DAC2ER_S1 0x03000000
#define DBCR2_DAC12M_MASK 	0x00C00000
#define DBCR2_DAC12M_EXACT 	0x00000000
#define DBCR2_DAC12M_MASKED 	0x00400000
#define DBCR2_DAC12M_INC 	0x00800000
#define DBCR2_DAC12M_EXC 	0x00C00000
#define DBCR2_DAC12A_MASK 	0x00200000
#define DBCR2_DVC1M_MASK 	0x000C0000
#define DBCR2_DVC1M_AND 	0x00040000
#define DBCR2_DVC1M_OR	0x00080000
#define DBCR2_DVC1M_ANDOR 	0x000C0000
#define DBCR2_DVC2M_MASK	0x00030000
#define DBCR2_DVC2M_AND	0x00010000
#define DBCR2_DVC2M_OR	0x00020000
#define DBCR2_DVC2M_ANDOR	0x00030000
#define DBCR2_DVC1BE_MASK 	0x00000F00
#define DBCR2_DVC2BE_MASK	0x0000000F
//------- ------- ------- }}}

//------- DBSR ------- {{{
#define DBSR	0x130
#define DBSR_IDE_MASK	0x80000000
#define DBSR_UDE_MASK	0x40000000
#define DBSR_MRR_MASK	0x30000000
#define DBSR_MRR_CORE	0x10000000
#define DBSR_MRR_CHIP	0x20000000
#define DBSR_MRR_SYSTEM 0x30000000
#define DBSR_ICMP_MASK 	0x08000000
#define DBSR_BRT_MASK 	0x04000000
#define DBSR_IRPT_MASK 	0x02000000
#define DBSR_TRAP_MASK 	0x01000000
#define DBSR_IAC1_MASK 	0x00800000
#define DBSR_IAC2_MASK 	0x00400000
#define DBSR_IAC3_MASK 	0x00200000
#define DBSR_IAC4_MASK 	0x00100000
#define DBSR_DAC1R_MASK 0x00080000
#define DBSR_DAC1W_MASK 0x00040000
#define DBSR_DAC2R_MASK 0x00020000
#define DBSR_DAC2W_MASK 0x00010000
#define DBSR_RET_MASK 	0x00008000
#define DBSR_IAC12ATS_MASK	0x00000002
#define DBSR_IAC34ATS_MASK	0x00000001
//------- ------- ------- }}}

#define IAC1 	0x138
#define IAC2 	0x139
#define IAC3 	0x13A
#define IAC4 	0x13B
#define DAC1	0x13C
#define DAC2 	0x13D
#define DVC1 	0x13E
#define DVC2 	0x13F
#define DBDR 	0x3F3
//------- ------- ------- ------- ------- }}}

#define USPRG0	0x100

//------- SPRG0-7 ------- {{{
#define SPRG0 0x110
#define SPRG1 0x111
#define SPRG2 0x112
#define SPRG3 0x113
#define SPRG4 0x114
#define SPRG5 0x115
#define SPRG6 0x116
#define SPRG7 0x117
#define SPRG4_U 0x104
#define SPRG5_U 0x105
#define SPRG6_U 0x106
#define SPRG7_U 0x107
//------- ------- ------- }}}

//------- PVR ------- {{{
#define PVR	0x11f
#define PVR_OWN_MASK	0xfff00000
#define PVR_PVN_MASK	0x0000ffff
//------- ------- ------- }}}

#define PIR	0x11E
#define PIR_MASK	0x0000000F

#define EPR	0x2BE

//------- CCR0 ------- {{{
#define CCR0	0x3b3
#define CCR0_PRE_MASK	0x40000000
#define CCR0_CRPE_MASK	0x08000000
#define CCR0_ICS_MASK 	0x00200000
#define CCR0_DAPUIB_MASK	0x00100000
#define CCR0_ICWRIDX_MASK	0x000F0000
#define CCR0_DTB_MASK 	0x00008000
#define CCR0_FLSTA_MASK	0x00000100
#define CCR0_DQWPM_MASK	0x0000000C
#define CCR0_IQWPM_MASK	0x00000002
//------- ------- ------- }}}

//------- CCR1 ------- {{{
#define CCR1 	0x378
#define CCR1_ICDPEI_MASK 0x0C000000
#define CCR1_ICLPEI_MASK 0x03000000
#define CCR1_ICTPEI_MASK 0x00C00000
#define CCR1_DCDPEI_MASK 0x00300000
#define CCR1_DCLPEI_MASK 0x000C0000
#define CCR1_DCTPEI_MASK 0x00030000
#define CCR1_MMUTPEI_MASK	0x00008000
#define CCR1_MMUDPEI_MASK	0x00004000
#define CCR1_TSS_MASK	0x00001000
#define CCR1_DPC_MASK 	0x00000400
#define CCR1_TCS_MASK	0x00000300
//------- ------- ------- }}}

//------- CCR2 ------- {{{
#define CCR2 	0x379
#define CCR2_DSTG_MASK	0xC0000000
#define CCR2_DLFPD_MASK 0x20000000
#define CCR2_DSTI_MASK 	0x08000000
#define CCR2_PMUD_MASK 	0x00400000
#define CCR2_DCSTGW_MASK	0x00100000
#define CCR2_STGCTR_MASK	0x000F0000
#define CCR2_DISTG_MASK	0x00008000
#define CCR2_SPC5C1_MASK	0x00000800
#define CCR2_MCDTO_MASK	0x00000400
//------- ------- ------- }}}

//------- MMUCR ------- {{{
#define MMUCR	0x3b2
#define MMUCR_REALE_MASK	0x80000000
#define MMUCR_LWAY_MASK	0x60000000
#define MMUCR_LVALID_MASK	0x10000000
#define MMUCR_DULXE_MASK	0x08000000
#define MMUCR_IULXE_MASK	0x04000000
#define MMUCR_LINDEX_MASK	0x01FE0000
#define MMUCR_STS_MASK	0x00010000
#define MMUCR_STID_MASK	0x0000FFFF
//------- ------- ------- }}}

#define ISPCR	0x33D
#define SSPCR	0x33E
#define USPCR	0x33F

#define PID	0x030
#define PID_MASK	0x0000FFFF
#define DCRIPR	0x37B

#define DCDBTRL	0x39C
#define DCDBTRH	0x39D
#define ICDBTRL	0x39E
#define ICDBTRH	0x39F
#define ICDBDR0	0x3D3
#define ICDBDR1	0x3D4


